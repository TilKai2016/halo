buildscript {
    ext {
        JAVA_GRADLE = "$rootDir/gradle/java.gradle"
        IDE_GRADLE = "$rootDir/gradle/ide.gradle"
        springBootVersion = "2.0.1.RELEASE"
    }
    repositories {
        maven {
            url "${maven_url}"
        }
    }
    dependencies {
        classpath ("org.jfrog.buildinfo:build-info-extractor-gradle:4.4.1")
        classpath ("org.springframework.boot:spring-boot-gradle-plugin:${springBootVersion}")
    }
}

// Configures this project and each of its sub-projects
allprojects {
    apply plugin: "com.jfrog.artifactory"
    apply from: IDE_GRADLE
    apply from: JAVA_GRADLE
    // SpringBoot 可执行Jar文件打包，必须添加main class
    apply plugin: "org.springframework.boot"

    group = "cc.ryanc"
    version = currentVersion

    repositories {
        maven {
            url "${maven_url}"
        }
    }

    dependencies {
        compile ("org.springframework.boot:spring-boot-starter-data-jpa:${springBootVersion}")
        compile ("org.springframework.boot:spring-boot-starter-freemarker:${springBootVersion}")
        compile ("org.springframework.boot:spring-boot-starter-web:${springBootVersion}")
        compile ("io.github.biezhi:oh-my-email:0.0.3")
        compile ("com.alibaba:druid-spring-boot-starter:1.1.9")
        compile ("org.ehcache:ehcache:3.5.2")
        compile ("rome:rome:1.0")
        compile ("org.apache.commons:commons-lang3:3.7")
        compile ("org.jsoup:jsoup:1.9.2")
        compile ("com.google.guava:guava:18.0")
        runtime ("mysql:mysql-connector-java:5.1.46")
        runtime ("com.h2database:h2:1.4.197")
        testCompile ("org.springframework.boot:spring-boot-starter-test:${springBootVersion}")
    }
}
